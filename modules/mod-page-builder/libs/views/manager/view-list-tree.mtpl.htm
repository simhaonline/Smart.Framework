<!-- Pagebuilder / Manage @ TreeList / Records :: v.20200625 -->
<script src="lib/js/jquery/tree/simpletree.js"></script>
<style>
.simpletree-toggle, .simpletree-notoggle {
	display: inline-block;
	width: 25px;
}
.simpletree-tree .simpletree-button {
	cursor: pointer;
}
ul.pagebuilder-tree {
	margin-top: 0 !important;
	margin-left: 0 !important;
}
ul.pagebuilder-tree, ul.pagebuilder-tree li {
	list-style-type: none;
}
ul.pagebuilder-tree a {
	text-decoration: none !important;
}
span.simpletree-highlight {
	background: #333333;
	color: #FFFFFF;
}
span.simpletree-item-active {
	font-weight: bold;
	color: #111111;
}
span.simpletree-item-inactive {
	font-weight: bold;
	color: #BBBBBB;
}
span.simpletree-ctrl {
	font-size: 1.125rem;
	line-height: 1.25;
	font-weight: bold;
	color: #333333;
}
</style>
<script type="text/javascript">
function pageBuilderFormBtnFilter() {
	jQuery('#filtering').submit();
}
function pageBuilderFormBtnResetFilter() {
	self.location = '[###LIST-BTN-RESET|js###]';
}
</script>
[@@@SUB-TEMPLATE:view-list-filter-form.mtpl.inc.htm@@@]
<script>
	jQuery('#filter-src').val('[###LIST-VAL-SRC|js###]');
	jQuery('#filter-srcby').val('[###LIST-VAL-SRCBY|js###]');
</script>
<ul class="pagebuilder-tree">
	[%%%LOOP:DATA%%%]
	<!-- start CTRL: [###DATA._-KEY-_|html###] -->
	<li data-simpletree="[###FILTER-COLLAPSE|html###]">
		<span class="simpletree-ctrl">[%%%IF:DATA._-KEY-_:!=;%%%][###DATA._-KEY-_|html###][%%%ELSE:DATA._-KEY-_%%%]<i class="sfi sfi-question" title="*** (UNASSIGNED) ***"></i> <span style="color:#778899;">UNASSIGNED</span>[%%%/IF:DATA._-KEY-_%%%]</span>
		[%%%LOOP:DATA._-VAL-_%%%]
		<ul>
			<li title="[###DATA._-VAL-_.ID|html###]" class="simpletree-item" id="item-[###DATA._-VAL-_.HASH-ID|htmid###]" data-simpletree="[###COLLAPSE|html###]">
				<a href="[###LIST-RECORD-URL|html###][###DATA._-VAL-_.ID|url|html###]" data-smart="open.modal"><img src="[###DATA._-VAL-_.ICON-TYPE|html###]">&nbsp;[%%%IF:DATA._-VAL-_.IMG-TYPE-HTML:!=;%%%][###DATA._-VAL-_.IMG-TYPE-HTML###][%%%/IF:DATA._-VAL-_.IMG-TYPE-HTML%%%]</a> &nbsp; <span class="[###DATA._-VAL-_.STYLE-CLASS|html###]">[###DATA._-VAL-_.NAME|html###]</span> :: <span class="simpletree-ids" id="id-[###DATA._-VAL-_.HASH-ID|htmid###]">[%%%IF:DATA._-VAL-_.IS-SEGMENT:==1;%%%]<i>[%%%/IF:DATA._-VAL-_.IS-SEGMENT%%%][###DATA._-VAL-_.ID|html###][%%%IF:DATA._-VAL-_.IS-SEGMENT:==1;%%%]</i>[%%%/IF:DATA._-VAL-_.IS-SEGMENT%%%]</span> &nbsp; ([###DATA._-VAL-_.COUNTER|html###])
				[%%%IF:DATA._-VAL-_.REF-CHILDS:@>0;%%%]
					[%%%LOOP:DATA._-VAL-_.REF-CHILDS%%%]
					<ul>
						<li title="[###DATA._-VAL-_.REF-CHILDS.ID|html###]" class="simpletree-item" id="item-[###DATA._-VAL-_.REF-CHILDS.HASH-ID|htmid###]" data-simpletree="[###COLLAPSE|html###]">
							<a href="[###LIST-RECORD-URL|html###][###DATA._-VAL-_.REF-CHILDS.ID|url|html###]" data-smart="open.modal"><img src="[###DATA._-VAL-_.REF-CHILDS.ICON-TYPE|html###]">&nbsp;[%%%IF:DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML:!=;%%%][###DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML###][%%%/IF:DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML%%%]</a> &nbsp; <span class="[###DATA._-VAL-_.REF-CHILDS.STYLE-CLASS|html###]">[###DATA._-VAL-_.REF-CHILDS.NAME|html###]</span> :: <span class="simpletree-ids" id="id-[###DATA._-VAL-_.REF-CHILDS.HASH-ID|htmid###]">[%%%IF:DATA._-VAL-_.REF-CHILDS.IS-SEGMENT:==1;%%%]<i>[%%%/IF:DATA._-VAL-_.REF-CHILDS.IS-SEGMENT%%%][###DATA._-VAL-_.REF-CHILDS.ID|html###][%%%IF:DATA._-VAL-_.REF-CHILDS.IS-SEGMENT:==1;%%%]</i>[%%%/IF:DATA._-VAL-_.REF-CHILDS.IS-SEGMENT%%%]</span> &nbsp; ([###DATA._-VAL-_.REF-CHILDS.COUNTER|html###])
							[%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS:@>0;%%%]
								[%%%LOOP:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%]
								<ul>
									<li title="[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|html###]" class="simpletree-item" id="item-[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.HASH-ID|htmid###]" data-simpletree="">
										<a href="[###LIST-RECORD-URL|html###][###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|url|html###]" data-smart="open.modal"><img src="[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ICON-TYPE|html###]">&nbsp;[%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML:!=;%%%][###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML###][%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML%%%]</a> &nbsp; <span class="[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.STYLE-CLASS|html###]">[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.NAME|html###]</span> :: <span class="simpletree-ids" id="id-[###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.HASH-ID|htmid###]">[%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IS-SEGMENT:==1;%%%]<i>[%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IS-SEGMENT%%%][###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|html###][%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IS-SEGMENT:==1;%%%]</i>[%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IS-SEGMENT%%%]</span> &nbsp; ([###DATA._-VAL-_.REF-CHILDS.REF-CHILDS.COUNTER|html###])
									</li>
								</ul>
								[%%%/LOOP:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%]
							[%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%]
						</li>
					</ul>
					[%%%/LOOP:DATA._-VAL-_.REF-CHILDS%%%]
				[%%%/IF:DATA._-VAL-_.REF-CHILDS%%%]
			</li>
		</ul>
		[%%%/LOOP:DATA._-VAL-_%%%]
	</li>
	<!-- end CTRL: [###DATA._-KEY-_|html###] -->
	[%%%/LOOP:DATA%%%]
</ul>
<script type="text/javascript">
	[%%%IF:FILTER:@>0;%%%]
		var foundItems = [];
		[%%%LOOP:FILTER%%%]
		foundItems.push('id-[###FILTER.HASH-ID|js###]');[%%%|N%%%]
		[%%%/LOOP:FILTER%%%]
		jQuery('li.simpletree-item').each(function() {
			var foundItem = jQuery(this);
			foundItem.attr('data-simpletree', '');
			foundItem.find('span.simpletree-ids').each(function() {
				var foundId = jQuery(this);
				if(foundItems.indexOf(String(foundId.attr('id'))) >= 0) {
					jQuery(this).attr('class', 'simpletree-highlight');
				}
				foundId = null;
			});
			foundItem = null;
		});
		foundItems = null;
		jQuery('span.simpletree-highlight').parents('li').attr('data-simpletree', '');
	[%%%ELSE:FILTER%%%]
		// no highlights
	[%%%/IF:FILTER%%%]
</script>
<script>
	jQuery('ul.pagebuilder-tree').simpletree({
		useAnimation: false,
		signCollapsed: '<i class="sfi sfi-folder-plus sfi-lg" style="color:#555555;"></i>',
		signExpanded: '<i class="sfi sfi-folder-open sfi-lg" style="color:#555555;"></i>'
	});
</script>
<!-- #END -->